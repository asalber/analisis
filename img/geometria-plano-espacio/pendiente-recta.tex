% Author: Alfredo SÃ¡nchez Alberca (asalber@ceu.es)
\begin{tikzpicture}
  \begin{axis}[
  gen2dfun,
  xmin=0, xmax=5,
  ymin=0, ymax=4,
  axis equal=true,
  xtick={1,4},
  xticklabels={$x_1$, $x_2$},
  ytick={1,3},
  yticklabels={$y_1$, $y_2$}, 
  clip=false,
  height=3cm,
  color= myblack,
  ]
  \coordinate (O) at (0,0);
  \coordinate (P) at (1,1);
  \coordinate (Q) at (4,3);
  \fill (P) circle (1.2pt) node[anchor=south] {$P$};
  \fill (Q) circle (1.2pt) node[anchor=south] {$Q$};
  \addplot+[domain=-0.3:1.3] ({1+3*x},{1+2*x}) node[anchor=south west] {$l$};
  \draw [->, myred, thick] (P) -- (Q) node[midway, above] {$\vec{PQ}$};
  \draw[mygray, dotted] (P) -- (P-|O);
  \draw[mygray, dotted] (P) -- (P|-O);
  \draw[mygray, dotted] (Q) -- (Q-|O);
  \draw[mygray, dotted] (Q|-P) -- (Q|-O);
  \draw[mygray, dashed] (Q) -- (Q|-P);
  \draw[mygray, dashed] (P) -- (P-|Q);
  \draw[decorate, decoration={brace, amplitude=5pt}] (Q) -- (Q|-P) node [midway, right, xshift=4pt] {$\Delta y = y_2-y_1$};
  \draw[decorate, decoration={brace, amplitude=5pt, mirror}] (P) -- (P-|Q) node [midway, below, yshift=-4pt] {$\Delta x = x_2-x_1$};
  \node[myblue] at (axis cs: 2.5, 3.5) {$m=\frac{\Delta y}{\Delta x}$};
  \end{axis}
\end{tikzpicture}
