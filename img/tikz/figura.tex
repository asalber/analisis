% Thanks to http://tex.stackexchange.com/a/30782/5645 for this
% example!
\documentclass{article}
\usepackage{amsmath}
\usepackage{ amssymb}
\usepackage{mathptmx}
\usepackage{tikz}
\usepackage{pgfplots}
%\usepgfplotslibrary{polar}
\usepackage{tkz-fct}
\usetikzlibrary{angles, quotes}
\usetikzlibrary{arrows.meta, arrows}
\usetikzlibrary{shapes.geometric}
\usetikzlibrary{external}
\tikzexternalize[prefix={external/}]

\tikzset{
    export as png/.style={
        external/system call/.add={}{
            && convert -density #1 -transparent white "\image.pdf" "\image.png"
        },
    },
    export as png/.default={200},
    % Arrow tips
    >=stealth,
}

% pgfplots settings
\input{colors}
\input{pgfplots}

\DeclareSymbolFont{symbolsb}{OMS}{cmsy}{m}{n}
\SetSymbolFont{symbolsb}{bold}{OMS}{cmsy}{b}{n}
\DeclareSymbolFontAlphabet{\mathcal}{symbolsb}

\def\req{\protect\rotatebox{90}{$\scriptstyle=$}}

\newcommand{\addaxes}{\draw (0em,1em) -- (0em,-1em)
                            (-1em,0em) -- (1em,0em);}
\newcommand{\stepfunc}{\draw[line width=1.5pt] (0.65em,0.65em) -- (0,0.65em) 
                                    -- (0,-0.65em) -- (-0.65em,-0.65em);}

\begin{document}

\tikzset{export as png}

\tikzsetnextfilename{partición-intervalo-bidimensional}

% Author: Alfredo Sánchez Alberca (asalber@ceu.es)
\begin{tikzpicture}[]
  \pgfplotsset{grid style={dashed, mygray, line width=0.1pt}}
  \begin{axis}[
  grid=major,
  xmin=-0.2, xmax=1.2,
  ymin=-0.2, ymax=1.2,
  x=2cm, y=2cm,
  axis lines=middle,
  color=myblack]
  \coordinate (A00) at (axis cs: {0}, {0});
  \coordinate (A01) at (axis cs: {0}, {1});
  \coordinate (A10) at (axis cs: {1}, {0});
  \coordinate (A11) at (axis cs: {1}, {1});
  \coordinate (B051) at (axis cs: {0}, {0.5});
  \coordinate (B105) at (axis cs: {1}, {0.5});
  \coordinate (C050) at (axis cs: {0.5}, {0});
  \coordinate (C051) at (axis cs: {0.5}, {1});

  \draw[myblue] (A00) -- (A01) -- (A11) -- (A10);
  \draw[myblue] (B051) -- (B105);
  \draw[myblue] (C050) -- (C051);
  \node at (axis cs: {0.25}, {0.25}) {$I_{1,1}$};
  \node at (axis cs: {0.25}, {0.75}) {$I_{1,2}$};
  \node at (axis cs: {0.75}, {0.25}) {$I_{2,1}$};
  \node at (axis cs: {0.75}, {0.75}) {$I_{2,2}$};
  \end{axis}
  \end{tikzpicture}
   

\end{document}