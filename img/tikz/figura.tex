% Thanks to http://tex.stackexchange.com/a/30782/5645 for this
% example!
\documentclass{article}
\usepackage{amsmath}
\usepackage{ amssymb}
\usepackage{mathptmx}
\usepackage{tikz}
\usepackage{pgfplots}
%\usepgfplotslibrary{polar}
\usepackage{tkz-fct}
\usetikzlibrary{angles, quotes}
\usetikzlibrary{arrows.meta, arrows}
\usetikzlibrary{external}
\tikzexternalize[prefix={external/}]

\tikzset{
    export as png/.style={
        external/system call/.add={}{
            && convert -density #1 -transparent white "\image.pdf" "\image.png"
        },
    },
    export as png/.default={200},
    % Arrow tips
    >=stealth,
}

% pgfplots settings
\input{colors}
\input{pgfplots}

\DeclareSymbolFont{symbolsb}{OMS}{cmsy}{m}{n}
\SetSymbolFont{symbolsb}{bold}{OMS}{cmsy}{b}{n}
\DeclareSymbolFontAlphabet{\mathcal}{symbolsb}

\def\req{\protect\rotatebox{90}{$\scriptstyle=$}}

\begin{document}

\tikzset{export as png}

\tikzsetnextfilename{plano-normal-trayectoria-espacio}
\begin{tikzpicture}
    \begin{axis}[
    3dfun,
    height=5cm,
    xmin = -1, xmax=1,
    ymin=-1, ymax=1,
    zmin=0, zmax=2,
    axis equal = true,
    clip=false,
    color = myblack, 
    ]
      \addplot3+[domain=0:pi, myblue, samples y=0] ({cos(deg(x))}, {sin(deg(x))}, {x});
      \addplot3+[surf, domain=-pi/2:pi/2, myred, samples=2, opacity=0.5] {x+pi/2};
      \coordinate (P) at (0,1,pi/2);
      \draw [->, mygreen, thick] (P) -- (-1,1,2.57) node[anchor=west] {$\textbf{v}=f'(\pi/2)$};
      \fill (P) circle (1.2pt) node[anchor=west] {$P=f(\pi/2)=(0,1,\pi/2)$};
      \node [myblue] at (0.3,0,-0.4) {$f(t)=(\cos(t), \operatorname{sen}(t), t)$};
      \node [myred] at (-2,1.4,0.8) {$(-x+z-\pi/2=0)$};
    \end{axis}
  \end{tikzpicture}
\end{document}


